<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Getting started &mdash; xtas 3.4 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.1.0/yeti/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/xtas.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="xtas 3.4 documentation" href="index.html" />
    <link rel="next" title="xtas + Elasticsearch tutorial" href="tutorial.html" />
    <link rel="prev" title="xtas, the eXtensible Text Analysis Suite" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          xtas</a>
        <span class="navbar-text navbar-version pull-left"><b>3.4</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Documentation <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">xtas + Elasticsearch tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Architecture overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="rest.html">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending.html">Extending xtas</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog/release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently anticipated questions</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="index.html" title="Previous Chapter: xtas, the eXtensible Text Analysis Suite"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; xtas, the eXt...</span>
    </a>
  </li>
  <li>
    <a href="tutorial.html" title="Next Chapter: xtas + Elasticsearch tutorial"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">xtas + Elasti... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="getting-started">
<span id="setup"></span><h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>xtas can be run locally or on a cluster; the <a class="reference internal" href="overview.html#overview"><span>Architecture overview</span></a> explains this
in more detail. This guide shows first how to get xtas running locally,
then how to run it as a distributed service.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>xtas runs on Linux (patches to support OS X are welcome).
It depends on Python 2.7, SciPy, the Java Runtime (JRE) and RabbitMQ.
On a Debian/Ubuntu/Linux Mint system, these dependencies can be installed with:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>sudo apt-get install libatlas-dev liblapack-dev rabbitmq-server \
    python-scipy openjdk-7-jre python-virtualenv build-essential \
    python-pip libxslt-dev
</pre></div>
</div>
<p>For CentOS/Fedora/Red Hat-style systems (this list is incomplete):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>sudo yum install atlas-devel java-1.7.0-openjdk lapack-devel \
    libxslt-devel numpy python-devel rabbitmq-server scipy
</pre></div>
</div>
<p>(RabbitMQ is an <a class="reference external" href="https://fedoraproject.org/wiki/EPEL">EPEL</a> package.)</p>
<p>Next, set up a virtualenv for xtas:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>virtualenv --system-site-packages /some/where
. /some/where/bin/activate
</pre></div>
</div>
<p>Use <a class="reference external" href="https://pypi.python.org/pypi/pip/1.1">pip</a> to install xtas.
To get the latest release:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>pip install xtas
</pre></div>
</div>
<p>To get the bleeding edge version from GitHub:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>pip install git+https://github.com/NLeSC/xtas.git
</pre></div>
</div>
<p>For installing from local source (if you want to modify xtas),
see <a class="reference internal" href="extending.html"><em>Extending xtas</em></a>.</p>
<p>Try it out in a Python shell:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">xtas.tasks</span> <span class="kn">import</span> <span class="n">tokenize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tokenize</span><span class="p">(</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">)</span>
<span class="go">[u&#39;Hello&#39;, u&#39;,&#39;, u&#39;world&#39;, u&#39;!&#39;]</span>
</pre></div>
</div>
<p>If you only want to use xtas as a library on your local machine, you&#8217;re done.
Check the <a class="reference internal" href="api.html#api"><span>API reference</span></a> for what xtas can do.</p>
</div>
<div class="section" id="distributed-xtas">
<h2>Distributed xtas<a class="headerlink" href="#distributed-xtas" title="Permalink to this headline">¶</a></h2>
<p>To run xtas in distributed mode, you need to have RabbitMQ
and, optionally, Elasticsearch running on some machine.
xtas by default assumes that these are running locally on their standard ports.
If they are not, run:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>python -m xtas.make_config
</pre></div>
</div>
<p>and edit the generated configuration file, <code class="docutils literal"><span class="pre">xtas_config.py</span></code>,
to point xtas to RabbitMQ <code class="docutils literal"><span class="pre">BROKER_URL</span></code> (see <a class="reference external" href="http://docs.celeryproject.org/en/latest/configuration.html">Celery configuration</a> for details)
and Elasticsearch.
Make sure this file is somewhere in your <code class="docutils literal"><span class="pre">PYTHONPATH</span></code>
(test this with <code class="docutils literal"><span class="pre">python</span> <span class="pre">-c</span> <span class="pre">'import</span> <span class="pre">xtas_config'</span></code>).</p>
<p>Then start an xtas worker:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>python -m xtas.worker --loglevel=info &amp;
</pre></div>
</div>
<p>If you want to use the xtas REST API, also start the webserver:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>python -m xtas.webserver &amp;
</pre></div>
</div>
<p>Verify that it works:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>curl http://localhost:5000/tasks | python -m json.tool
</pre></div>
</div>
<p>You should see a list of supported tasks.</p>
<p>Now to perform some actual work, make sure Elasticsearch is populated with
documents, and visit a URL such as</p>
<blockquote>
<div><a class="reference external" href="http://localhost:5000/run_es/morphy/20news/post/1/text">http://localhost:5000/run_es/morphy/20news/post/1/text</a></div></blockquote>
<p>This runs the Morphy morphological analyzer on the &#8220;text&#8221; field of &#8220;post&#8221; 1
in ES index &#8220;20news&#8221;. After some time, the results from Morphy are written to
a child document of this post, that can be obtained using:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>curl http://localhost:9200/20news/post__morphy/1?parent=1
</pre></div>
</div>
<p>You can now run the unittest suite using:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>python setup.py test
</pre></div>
</div>
<p>in the source directory (<code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">nose</span></code> if needed). This requires a
running worker process and Elasticsearch. Running the tests first is a good
idea, because it will fetch some dependencies (e.g. NLTK models) that will
otherwise be fetched on demand.</p>
<p>To learn more about using xtas as a distributed text analysis engine,
see the <a class="reference internal" href="tutorial.html#tutorial"><span>xtas + Elasticsearch tutorial</span></a>.</p>
</div>
<div class="section" id="running-as-a-service">
<h2>Running as a service<a class="headerlink" href="#running-as-a-service" title="Permalink to this headline">¶</a></h2>
<p>xtas can be run as a service on Linux. See the directory <code class="docutils literal"><span class="pre">init.d</span></code> in the
xtas source distribution for example init scripts.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/setup.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2013–2015 Netherlands eScience Center, University of Amsterdam.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.5.<br/>
    </p>
  </div>
</footer>
  </body>
</html>